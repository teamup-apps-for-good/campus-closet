<%= link_to "Back to All Items", items_path %>

<div class="container">
  <h1 class="mt-4">Items</h1>
  <%= render "filter", type: @type %>
  <div class="row">
    <% @items.each do |item| %>
      <% if item.status.name == "Available" %>
        <div class="col-md-4 mb-4">
          <div class="card">
          <% if item.image_url.present? %>
            <%= image_tag item.image_url, class: "card-img-top img-fluid", alt: "Item Image", style: "object-fit: contain; height: 500px;" %>
          <% else %>
            <img src="placeholder_image_url" class="card-img-top img-fluid" alt="No Image Available" style="object-fit: contain; height: 500px;">
          <% end %>
            <div class="card-body">
              
              <%= render item %>
              <p class="card-text">
                <%= link_to "Show this item", item, class: "btn btn-primary" %>
              </p>
            </div>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>

</div>

<% unless session[:user_id].nil? %> 
  <%= link_to "New item", new_item_path %>
<% end %>